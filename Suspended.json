{"inkVersion":19,"root":[["^You control Mr Red, Ms Blue and their kid, Purple.","\n","^Switch characters using the buttons.","\n",["done",{"#n":"g-0"}],null],"done",{"red":["^Hello I'm ","ev",{"VAR?":"MrRed"},"out","/ev","\n","ev",{"VAR?":"MrRed"},{"^var":"outside","ci":-1},{"^var":"corridor","ci":-1},"/ev",{"->t->":"moveTo"},"ev",{"VAR?":"MrRed"},"/ev",{"->t->":"room_corridor"},"done",null],"blue":["^Good Morning I'm ","ev",{"VAR?":"MsBlue"},"out","/ev","\n","ev",{"VAR?":"MsBlue"},{"^var":"outside","ci":-1},{"^var":"corridor","ci":-1},"/ev",{"->t->":"moveTo"},"ev",{"VAR?":"MsBlue"},"/ev",{"->t->":"room_corridor"},"done",null],"purple":["^Hello I'm ","ev",{"VAR?":"KidPurple"},"out","/ev","\n","ev",{"VAR?":"KidPurple"},{"^var":"outside","ci":-1},{"^var":"corridor","ci":-1},"/ev",{"->t->":"moveTo"},"ev",{"VAR?":"KidPurple"},"/ev",{"->t->":"room_corridor"},"done",null],"otherPresent":[{"temp=":"room"},{"temp=":"character"},"ev",{"VAR?":"room"},{"VAR?":"characters"},"L^",{"VAR?":"character"},"-","/ev",{"temp=":"others"},"<>","^ ","ev",{"VAR?":"others"},"LIST_COUNT","/ev",["du","ev",0,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","^There's no one here.","\n",{"->":".^.^.^.18"},null]}],[{"->":".^.b"},{"b":["pop","\n","^You can see ","ev",{"VAR?":"others"},{"f()":"list_with_commas"},"out","/ev","^ ","ev",{"VAR?":"others"},"LIST_COUNT",1,">","/ev",[{"->":".^.b","c":true},{"b":["^ are",{"->":".^.^.^.17"},null]}],[{"->":".^.b"},{"b":["^is",{"->":".^.^.^.17"},null]}],"nop","^ here.","\n",{"->":".^.^.^.18"},null]}],"nop","\n","ev","void","/ev","->->",null],"objectOfInterest":[{"temp=":"room"},{"temp=":"character"},"ev",{"list":{}},"/ev",{"temp=":"objects"},"ev",{"VAR?":"character"},"/ev",["du","ev",{"VAR?":"MrRed"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"room"},{"VAR?":"manlyObjects"},"L^","/ev",{"temp=":"objects","re":true},{"->":".^.^.^.13"},null]}],["du","ev",{"VAR?":"MsBlue"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"room"},{"VAR?":"girlyObjects"},"L^","/ev",{"temp=":"objects","re":true},{"->":".^.^.^.13"},null]}],["du","ev",{"VAR?":"KidPurple"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"room"},{"VAR?":"toys"},"L^","/ev",{"temp=":"objects","re":true},{"->":".^.^.^.13"},null]}],"pop","nop","\n","<>","^ ","ev",{"VAR?":"objects"},"LIST_COUNT","/ev",["du","ev",0,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","^There's nothing of interest here.","\n",{"->":".^.^.^.23"},null]}],[{"->":".^.b"},{"b":["pop","\n","^Objects of interest to you : ","ev",{"VAR?":"objects"},{"f()":"list_with_commas"},"out","/ev","^.","\n",{"->":".^.^.^.23"},null]}],"nop","\n","ev","void","/ev","->->",null],"moveTo":[{"temp=":"towards"},{"temp=":"from"},{"temp=":"character"},"ev",{"VAR?":"from"},{"VAR?":"character"},"-","/ev",{"temp=":"from","re":true},"ev",{"VAR?":"towards"},{"VAR?":"character"},"+","/ev",{"temp=":"towards","re":true},"ev","void","/ev","->->",null],"room_corridor":[{"temp=":"character"},[["^You ","ev",{"^->":"room_corridor"},{"f()":"came_from"},"/ev",[{"->":".^.b","c":true},{"b":["^ enter",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^are in",{"->":".^.^.^.7"},null]}],"nop","^ the corridor.","\n","ev",{"VAR?":"character"},{"VAR?":"corridor"},"/ev",{"->t->":"otherPresent"},"ev",{"VAR?":"character"},{"VAR?":"corridor"},"/ev",{"->t->":"objectOfInterest"},["ev","str","^Look","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Exit: living room","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^Exit: kitchen","/str","/ev",{"*":".^.c-2","flg":4},"ev","str","^Exit: bedroom","/str","/ev",{"*":".^.c-3","flg":4},{"c-0":["\n",{"->":".^.^.^"},null],"c-1":["\n","ev",{"VAR?":"character"},{"^var":"corridor","ci":-1},{"^var":"living_room","ci":-1},"/ev",{"->t->":"moveTo"},"ev",{"VAR?":"character"},"/ev",{"->":"room_living_room"},null],"c-2":["\n","ev",{"VAR?":"character"},{"^var":"corridor","ci":-1},{"^var":"kitchen","ci":-1},"/ev",{"->t->":"moveTo"},"ev",{"VAR?":"character"},"/ev",{"->":"room_kitchen"},null],"c-3":["\n","ev",{"VAR?":"character"},{"^var":"corridor","ci":-1},{"^var":"bedroom","ci":-1},"/ev",{"->t->":"moveTo"},"ev",{"VAR?":"character"},"/ev",{"->":"room_bedroom"},"ev","void","/ev","->->",null],"#n":"exits"}],{"#n":"enter"}],null],{"#f":3}],"room_living_room":[{"temp=":"character"},[["^You ","ev",{"^->":"room_living_room"},{"f()":"came_from"},"/ev",[{"->":".^.b","c":true},{"b":["^ enter",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^are in",{"->":".^.^.^.7"},null]}],"nop","^ the living room..","\n","ev",{"VAR?":"character"},{"VAR?":"living_room"},"/ev",{"->t->":"otherPresent"},"ev",{"VAR?":"character"},{"VAR?":"living_room"},"/ev",{"->t->":"objectOfInterest"},["ev","str","^Look","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Exit: corridor","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^Exit: bedroom","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["\n",{"->":".^.^.^"},null],"c-1":["\n","ev",{"VAR?":"character"},{"^var":"living_room","ci":-1},{"^var":"corridor","ci":-1},"/ev",{"->t->":"moveTo"},"ev",{"VAR?":"character"},"/ev",{"->":"room_corridor"},null],"c-2":["\n","ev",{"VAR?":"character"},{"^var":"living_room","ci":-1},{"^var":"bedroom","ci":-1},"/ev",{"->t->":"moveTo"},"ev",{"VAR?":"character"},"/ev",{"->":"room_bedroom"},null],"#n":"exits"}],{"#n":"enter"}],null],{"#f":3}],"room_bedroom":[{"temp=":"character"},[["^You ","ev",{"^->":"room_bedroom"},{"f()":"came_from"},"/ev",[{"->":".^.b","c":true},{"b":["^ enter",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^are in",{"->":".^.^.^.7"},null]}],"nop","^ the bedroom.","\n","ev",{"VAR?":"character"},{"VAR?":"bedroom"},"/ev",{"->t->":"otherPresent"},"ev",{"VAR?":"character"},{"VAR?":"bedroom"},"/ev",{"->t->":"objectOfInterest"},["ev","str","^Look","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Exit: corridor","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^Exit: living room","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["\n",{"->":".^.^.^"},null],"c-1":["\n","ev",{"VAR?":"character"},{"^var":"bedroom","ci":-1},{"^var":"corridor","ci":-1},"/ev",{"->t->":"moveTo"},"ev",{"VAR?":"character"},"/ev",{"->":"room_corridor"},null],"c-2":["\n","ev",{"VAR?":"character"},{"^var":"bedroom","ci":-1},{"^var":"living_room","ci":-1},"/ev",{"->t->":"moveTo"},"ev",{"VAR?":"character"},"/ev",{"->":"room_living_room"},null],"#n":"exits"}],{"#n":"enter"}],null],{"#f":3}],"room_kitchen":[{"temp=":"character"},[["^You ","ev",{"^->":"room_kitchen"},{"f()":"came_from"},"/ev",[{"->":".^.b","c":true},{"b":["^ enter",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^are in",{"->":".^.^.^.7"},null]}],"nop","^ the kitchen.","\n","ev",{"VAR?":"character"},{"VAR?":"kitchen"},"/ev",{"->t->":"otherPresent"},"ev",{"VAR?":"character"},{"VAR?":"kitchen"},"/ev",{"->t->":"objectOfInterest"},["ev","str","^Look","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Exit: corridor","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n",{"->":".^.^.^"},null],"c-1":["\n","ev",{"VAR?":"character"},{"^var":"kitchen","ci":-1},{"^var":"corridor","ci":-1},"/ev",{"->t->":"moveTo"},"ev",{"VAR?":"character"},"/ev",{"->":"room_corridor"},null],"#n":"exits"}],{"#n":"enter"}],null],{"#f":3}],"list_with_commas":[{"temp=":"list"},"ev",{"VAR?":"list"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"list"},{"VAR?":"list"},"LIST_COUNT",{"f()":"_list_with_commas"},"out","/ev","\n",{"->":".^.^.^.5"},null]}],"nop","\n",null],"_list_with_commas":[{"temp=":"n"},{"temp=":"list"},"ev",{"^var":"list","ci":-1},{"f()":"pop"},"out","/ev","ev",{"VAR?":"n"},1,">","/ev",[{"->":".^.b","c":true},{"b":["ev",{"VAR?":"n"},2,"==","/ev",[{"->":".^.b","c":true},{"b":["^ and ",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^, ",{"->":".^.^.^.7"},null]}],"nop","ev",{"VAR?":"list"},{"VAR?":"n"},1,"-",{"f()":".^.^.^"},"out","/ev",{"->":".^.^.^.13"},null]}],"nop","\n",null],"pop":[{"temp=":"_list"},"ev",{"VAR?":"_list"},"LIST_MIN","/ev",{"temp=":"el"},"\n","ev",{"VAR?":"_list"},{"VAR?":"el"},"-",{"temp=":"_list","re":true},"/ev","ev",{"VAR?":"el"},"/ev","~ret",null],"came_from":[{"temp=":"x"},"ev",{"VAR?":"x"},"turns",0,"==","/ev","~ret","\n",null],"global decl":["ev",{"list":{"characters.MrRed":1,"characters.MsBlue":2,"characters.KidPurple":3}},{"VAR=":"characters"},{"list":{"toys.MonsieurPatate":1,"toys.ToyCar":2}},{"VAR=":"toys"},{"list":{"girlyObjects.MakeUp":1,"girlyObjects.Skirt":2}},{"VAR=":"girlyObjects"},{"list":{"manlyObjects.Hammer":1,"manlyObjects.Tie":2}},{"VAR=":"manlyObjects"},{"list":{"characters.MrRed":1,"characters.MsBlue":2,"characters.KidPurple":3}},{"VAR=":"outside"},{"list":{"manlyObjects.Hammer":1}},{"VAR=":"kitchen"},{"list":{"girlyObjects.MakeUp":1,"manlyObjects.Tie":2,"girlyObjects.Skirt":2}},{"VAR=":"bedroom"},{"list":{"toys.MonsieurPatate":1}},{"VAR=":"corridor"},{"list":{"girlyObjects.Skirt":2,"toys.ToyCar":2}},{"VAR=":"living_room"},"/ev","end",null]}],"listDefs":{"characters":{"MrRed":1,"MsBlue":2,"KidPurple":3},"toys":{"MonsieurPatate":1,"ToyCar":2},"girlyObjects":{"MakeUp":1,"Skirt":2},"manlyObjects":{"Hammer":1,"Tie":2}}}